{"ast":null,"code":"import React,{useState}from'react';import Carousel from'react-bootstrap/Carousel';import'./Allrecipes.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RecipePage=_ref=>{let{recipe,addToGroceryList}=_ref;const[showBox,setShowBox]=useState(false);const handleClick=()=>{setShowBox(!showBox);};const handleHideBox=()=>{setShowBox(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-top\",children:[/*#__PURE__*/_jsx(\"img\",{src:recipe.image,alt:recipe.name,className:\"recipe-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-vitals\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"recipe-title\",children:recipe.name}),/*#__PURE__*/_jsx(\"p\",{className:\"recipe-description\",children:recipe.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{recipe.ingredients.forEach(ingredient=>addToGroceryList(ingredient));},children:\"Add All Ingredients to Grocery List\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"recipe-heading\",children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"recipe-list\",children:recipe.ingredients.map((ingredient,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[ingredient,/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const excludedWords=['cup','teaspoon','tablespoon','pinch','pint','quart','liter','bottle','of','the','and','fres'];const realingredient=ingredient.replace(/[0-9]|(\\b(?:cup|teaspoon|tablespoon|pinch|pint|quart|liter|bottle|of|the|and|fresh)s?\\b)|(\\d+\\/\\d+)\\b/gi,'').trim();const query=encodeURIComponent(realingredient.replace(/\\s+/g,' '));const dataType=['Foundation','SR Legacy'];// Specify the data type here\nconst url=\"https://api.nal.usda.gov/fdc/v1/foods/search?query=\".concat(query,\"&dataType=\").concat(dataType,\"&sortBy=dataType.keyword&api_key=DEMO_KEY\");fetch(url).then(response=>response.json()).then(data=>{// Handle the API response data here\nconsole.log(data);// Display the entire API response data\nconst firstFdcId=data.foods[0].fdcId;// Find the first fdcId number and store it\nconsole.log(\"First fdcId: \".concat(firstFdcId));// Make a second API call using the firstFdcId as an input parameter\nconst url=\"https://fdc.nal.usda.gov/fdc-app.html#/food-details/\".concat(firstFdcId,\"/nutrients\");console.log(url);window.open(url,'_blank');// Open the URL in a new tab\n}).catch(error=>{// Handle any errors that occur during the API request\nconsole.error(error);});},children:\"See Nutrition Info\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToGroceryList(ingredient),children:\"Add to Grocery List\"})]},index))}),/*#__PURE__*/_jsx(\"h2\",{className:\"recipe-heading\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"ol\",{className:\"recipe-list\",children:recipe.instructions.map((instruction,index)=>/*#__PURE__*/_jsx(\"li\",{children:instruction},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"centered-button\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Enter Cooking Mode\"}),showBox&&/*#__PURE__*/_jsxs(\"div\",{className:\"box overlay\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"hide-box-button\",onClick:handleHideBox,children:\"Exit Cooking Mode\"}),/*#__PURE__*/_jsx(ControlledCarousel,{instructions:recipe.instructions})]})]})]});};function ControlledCarousel(_ref2){let{instructions}=_ref2;const[index,setIndex]=useState(0);const handleSelect=selectedIndex=>{setIndex(selectedIndex);};return/*#__PURE__*/_jsx(Carousel,{activeIndex:index,onSelect:handleSelect,controls:false,indicators:false,children:instructions.map((instruction,idx)=>/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'250%',margin:'-5px'},children:instruction})},idx))});}export default RecipePage;","map":{"version":3,"names":["React","useState","Carousel","jsx","_jsx","jsxs","_jsxs","RecipePage","_ref","recipe","addToGroceryList","showBox","setShowBox","handleClick","handleHideBox","className","children","src","image","alt","name","description","onClick","ingredients","forEach","ingredient","map","index","excludedWords","realingredient","replace","trim","query","encodeURIComponent","dataType","url","concat","fetch","then","response","json","data","console","log","firstFdcId","foods","fdcId","window","open","catch","error","instructions","instruction","ControlledCarousel","_ref2","setIndex","handleSelect","selectedIndex","activeIndex","onSelect","controls","indicators","idx","Item","style","fontSize","margin"],"sources":["/workspaces/cosi-103a/client/src/components/recipes/recipe.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Carousel from 'react-bootstrap/Carousel';\nimport './Allrecipes.css';\n\nconst RecipePage = ({ recipe, addToGroceryList }) => {\n    const [showBox, setShowBox] = useState(false);\n\n    const handleClick = () => {\n        setShowBox(!showBox);\n    };\n\n    const handleHideBox = () => {\n        setShowBox(false);\n    };\n\n    return (\n        <div className=\"recipe\">\n            <div className=\"recipe-top\">\n                <img src={recipe.image} alt={recipe.name} className=\"recipe-image\" />\n                <div className=\"recipe-vitals\">\n                    <h1 className=\"recipe-title\">{recipe.name}</h1>\n                    <p className=\"recipe-description\">{recipe.description}</p>\n                    <button onClick={() => {\n                        recipe.ingredients.forEach((ingredient) => addToGroceryList(ingredient));\n                    }}>Add All Ingredients to Grocery List</button>\n                </div>\n            </div>\n            <h2 className=\"recipe-heading\">Ingredients</h2>\n            <ul className=\"recipe-list\">\n                {recipe.ingredients.map((ingredient, index) => (\n                    <li key={index}>\n                        {ingredient}\n                        <button onClick={() => {\n                            const excludedWords = ['cup', 'teaspoon', 'tablespoon', 'pinch', 'pint', 'quart', 'liter', 'bottle', 'of', 'the', 'and', 'fres'];\n                            const realingredient = ingredient.replace(/[0-9]|(\\b(?:cup|teaspoon|tablespoon|pinch|pint|quart|liter|bottle|of|the|and|fresh)s?\\b)|(\\d+\\/\\d+)\\b/gi, '').trim();\n                            const query = encodeURIComponent(realingredient.replace(/\\s+/g, ' '));\n                            const dataType = ['Foundation', 'SR Legacy']; // Specify the data type here\n                            const url = `https://api.nal.usda.gov/fdc/v1/foods/search?query=${query}&dataType=${dataType}&sortBy=dataType.keyword&api_key=DEMO_KEY`;\n                            fetch(url)\n                                .then(response => response.json())\n                                .then(data => {\n                                    // Handle the API response data here\n                                    console.log(data); // Display the entire API response data\n                                    const firstFdcId = data.foods[0].fdcId; // Find the first fdcId number and store it\n                                    console.log(`First fdcId: ${firstFdcId}`);\n                                    // Make a second API call using the firstFdcId as an input parameter\n                                    const url = `https://fdc.nal.usda.gov/fdc-app.html#/food-details/${firstFdcId}/nutrients`;\n                                    console.log(url);\n                                    window.open(url, '_blank'); // Open the URL in a new tab\n                                })\n                                .catch(error => {\n                                    // Handle any errors that occur during the API request\n                                    console.error(error);\n                                });\n                        }}>See Nutrition Info</button>\n                        <button onClick={() => addToGroceryList(ingredient)}>Add to Grocery List</button>\n                    </li>\n                ))}\n            </ul>\n            <h2 className=\"recipe-heading\">Instructions</h2>\n            <ol className=\"recipe-list\">\n                {recipe.instructions.map((instruction, index) => (\n                    <li key={index}>{instruction}</li>\n                ))}\n            </ol>\n            <div className=\"centered-button\">\n                <button onClick={handleClick}>Enter Cooking Mode</button>\n                {showBox && (\n                    <div className=\"box overlay\">\n                        <button className=\"hide-box-button\" onClick={handleHideBox}>Exit Cooking Mode</button>\n                        <ControlledCarousel instructions={recipe.instructions} />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nfunction ControlledCarousel({ instructions }) {\n    const [index, setIndex] = useState(0);\n\n    const handleSelect = (selectedIndex) => {\n        setIndex(selectedIndex);\n    };\n\n    return (\n        <Carousel activeIndex={index} onSelect={handleSelect} controls={false} indicators={false}>\n            {instructions.map((instruction, idx) => (\n                <Carousel.Item key={idx}>\n                    <p style={{ fontSize: '250%', margin: '-5px' }}>{instruction}</p>\n                </Carousel.Item>\n            ))}\n        </Carousel>\n    );\n}\n\nexport default RecipePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
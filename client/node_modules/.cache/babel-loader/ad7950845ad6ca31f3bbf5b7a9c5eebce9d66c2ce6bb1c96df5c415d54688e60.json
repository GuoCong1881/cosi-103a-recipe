{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RecipeForm=_ref=>{let{setRecipes}=_ref;const[recipeJson,setRecipeJson]=useState('');const handleSubmit=async e=>{e.preventDefault();try{const recipe=JSON.parse(recipeJson);recipe.image=recipe.image||'https://montevista.greatheartsamerica.org/wp-content/uploads/sites/2/2016/11/default-placeholder-375x375.png';recipe.link=recipe.link||recipe.name.toLowerCase().replace(/\\s+/g,'-');await axios.post('/api/recipes',recipe);setRecipes(prevRecipes=>[...prevRecipes,recipe]);setRecipeJson('');alert('Recipe added successfully!');}catch(error){console.log('Failed to parse JSON:',recipeJson);// print the JSON string\nconsole.log('Error:',error);// print the error object\nalert('Failed to add recipe. Make sure the JSON format is correct.');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:recipeJson,onChange:e=>setRecipeJson(e.target.value),rows:\"10\",cols:\"50\",placeholder:\"Enter recipe in JSON format\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Recipe\"})]});};export default RecipeForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","RecipeForm","_ref","setRecipes","recipeJson","setRecipeJson","handleSubmit","e","preventDefault","recipe","JSON","parse","image","link","name","toLowerCase","replace","post","prevRecipes","alert","error","console","log","onSubmit","children","value","onChange","target","rows","cols","placeholder","type"],"sources":["/workspaces/cosi-103a/client/src/components/RecipeList/RecipeForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst RecipeForm = ({ setRecipes }) => {\n  const [recipeJson, setRecipeJson] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const recipe = JSON.parse(recipeJson);\n      recipe.image = recipe.image || 'https://montevista.greatheartsamerica.org/wp-content/uploads/sites/2/2016/11/default-placeholder-375x375.png';\n      recipe.link = recipe.link || recipe.name.toLowerCase().replace(/\\s+/g, '-');\n      await axios.post('/api/recipes', recipe);\n      setRecipes((prevRecipes) => [...prevRecipes, recipe]);\n      setRecipeJson('');\n      alert('Recipe added successfully!');\n    } catch (error) {\n      console.log('Failed to parse JSON:', recipeJson); // print the JSON string\n      console.log('Error:', error); // print the error object\n      alert('Failed to add recipe. Make sure the JSON format is correct.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <textarea\n        value={recipeJson}\n        onChange={(e) => setRecipeJson(e.target.value)}\n        rows=\"10\"\n        cols=\"50\"\n        placeholder=\"Enter recipe in JSON format\"\n      />\n      <button type=\"submit\">Add Recipe</button>\n    </form>\n  );\n};\n\nexport default RecipeForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACP,UAAU,CAAC,CACrCK,MAAM,CAACG,KAAK,CAAGH,MAAM,CAACG,KAAK,EAAI,8GAA8G,CAC7IH,MAAM,CAACI,IAAI,CAAGJ,MAAM,CAACI,IAAI,EAAIJ,MAAM,CAACK,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,CAC3E,KAAM,CAAApB,KAAK,CAACqB,IAAI,CAAC,cAAc,CAAER,MAAM,CAAC,CACxCN,UAAU,CAAEe,WAAW,EAAK,CAAC,GAAGA,WAAW,CAAET,MAAM,CAAC,CAAC,CACrDJ,aAAa,CAAC,EAAE,CAAC,CACjBc,KAAK,CAAC,4BAA4B,CAAC,CACrC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAElB,UAAU,CAAC,CAAE;AAClDiB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEF,KAAK,CAAC,CAAE;AAC9BD,KAAK,CAAC,6DAA6D,CAAC,CACtE,CACF,CAAC,CAED,mBACEnB,KAAA,SAAMuB,QAAQ,CAAEjB,YAAa,CAAAkB,QAAA,eAC3B1B,IAAA,aACE2B,KAAK,CAAErB,UAAW,CAClBsB,QAAQ,CAAGnB,CAAC,EAAKF,aAAa,CAACE,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAC/CG,IAAI,CAAC,IAAI,CACTC,IAAI,CAAC,IAAI,CACTC,WAAW,CAAC,6BAA6B,CAC1C,CAAC,cACFhC,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,YAAU,CAAQ,CAAC,EACrC,CAAC,CAEX,CAAC,CAED,cAAe,CAAAvB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}